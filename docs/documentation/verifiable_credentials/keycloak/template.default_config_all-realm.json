{
    "id": "CitcomAI",
    "realm": "CitcomAI",
    "displayName": "Keycloak",
    "displayNameHtml": "<div class=\"kc-logo-text\"><span>Keycloak</span></div>",
    "enabled": true,
    "attributes": {
        "frontendUrl": "http://keycloak.consumer-raw.local",
        "issuerDid": "{{ISSUER-DID}}"
    },
    "sslRequired": "none",
    "clients": [
        {
            "clientId": "did:key:zDnaeud7zQitUYp1MxZyRGSuweXfDXGdu6hbYpKvrM6Ws1Eva",
            "enabled": true,
            "description": "Client to connect test.org",
            "surrogateAuthRequired": false,
            "alwaysDisplayInConsole": false,
            "clientAuthenticatorType": "client-secret",
            "defaultRoles": [],
            "redirectUris": [],
            "webOrigins": [],
            "notBefore": 0,
            "bearerOnly": false,
            "consentRequired": false,
            "standardFlowEnabled": true,
            "implicitFlowEnabled": false,
            "directAccessGrantsEnabled": false,
            "serviceAccountsEnabled": false,
            "publicClient": false,
            "frontchannelLogout": false,
            "protocol": "oid4vc",
            "attributes": {
                "client.secret.creation.time": "1675260539",
                "vc.user-credential.format": "jwt_vc",
                "vc.user-credential.scope": "UserCredential",
                "vc.verifiable-credential.format": "jwt_vc",
                "vc.verifiable-credential.scope": "VerifiableCredential",
                "vc.operator-credential.format": "jwt_vc",
                "vc.operator-credential.scope": "OperatorCredential"
            },
            "protocolMappers": [
                {
                    "name": "target-role-mapper",
                    "protocol": "oid4vc",
                    "protocolMapper": "oid4vc-target-role-mapper",
                    "config": {
                        "subjectProperty": "roles",
                        "clientId": "did:key:zDnaeud7zQitUYp1MxZyRGSuweXfDXGdu6hbYpKvrM6Ws1Eva",
                        "supportedCredentialTypes": "OperatorCredential"
                    }
                },
                {
                    "name": "context-mapper",
                    "protocol": "oid4vc",
                    "protocolMapper": "oid4vc-context-mapper",
                    "config": {
                        "context": "https://www.w3.org/2018/credentials/v1",
                        "supportedCredentialTypes": "VerifiableCredential,UserCredential,OperatorCredential"
                    }
                },
                {
                    "name": "email-mapper",
                    "protocol": "oid4vc",
                    "protocolMapper": "oid4vc-user-attribute-mapper",
                    "config": {
                        "subjectProperty": "email",
                        "userAttribute": "email",
                        "supportedCredentialTypes": "UserCredential,OperatorCredential"
                    }
                },
                {
                    "name": "firstName-mapper",
                    "protocol": "oid4vc",
                    "protocolMapper": "oid4vc-user-attribute-mapper",
                    "config": {
                        "subjectProperty": "firstName",
                        "userAttribute": "firstName",
                        "supportedCredentialTypes": "UserCredential,OperatorCredential"
                    }
                },
                {
                    "name": "lastName-mapper",
                    "protocol": "oid4vc",
                    "protocolMapper": "oid4vc-user-attribute-mapper",
                    "config": {
                        "subjectProperty": "lastName",
                        "userAttribute": "lastName",
                        "supportedCredentialTypes": "UserCredential,OperatorCredential"
                    }
                }
            ],
            "authenticationFlowBindingOverrides": {},
            "fullScopeAllowed": true,
            "nodeReRegistrationTimeout": -1,
            "defaultClientScopes": [],
            "optionalClientScopes": []
        }
    ],
    "clientScopes": [
        {
            "name": "roles",
            "description": "OpenID Connect scope for add user roles to the access token",
            "protocol": "openid-connect",
            "attributes": {
                "include.in.token.scope": "false",
                "display.on.consent.screen": "true",
                "consent.screen.text": "${rolesScopeConsentText}"
            },
            "protocolMappers": [
                {
                    "name": "audience resolve",
                    "protocol": "openid-connect",
                    "protocolMapper": "oidc-audience-resolve-mapper",
                    "consentRequired": false,
                    "config": {
                        "introspection.token.claim": "true",
                        "access.token.claim": "true"
                    }
                },
                {
                    "name": "realm roles",
                    "protocol": "openid-connect",
                    "protocolMapper": "oidc-usermodel-realm-role-mapper",
                    "consentRequired": false,
                    "config": {
                        "introspection.token.claim": "true",
                        "multivalued": "true",
                        "user.attribute": "foo",
                        "access.token.claim": "true",
                        "claim.name": "realm_access.roles",
                        "jsonType.label": "String"
                    }
                },
                {
                    "name": "client roles",
                    "protocol": "openid-connect",
                    "protocolMapper": "oidc-usermodel-client-role-mapper",
                    "consentRequired": false,
                    "config": {
                        "introspection.token.claim": "true",
                        "multivalued": "true",
                        "user.attribute": "foo",
                        "access.token.claim": "true",
                        "claim.name": "resource_access.${client_id}.roles",
                        "jsonType.label": "String"
                    }
                }
            ]
        }
    ],
    "defaultDefaultClientScopes": [],
    "defaultOptionalClientScopes": [],
    "roles": {
        "realm": [
            {
                "name": "user",
                "description": "User privileges",
                "composite": false,
                "clientRole": false,
                "containerId": "citcomai-realm",
                "attributes": {}
            }
        ],
        "client": {
            "did:key:zDnaeud7zQitUYp1MxZyRGSuweXfDXGdu6hbYpKvrM6Ws1Eva": [
                {
                    "name": "READER",
                    "description": "Is allowed to see offers etc.",
                    "clientRole": true
                },
                {
                    "name": "OPERATOR",
                    "description": "Is allowed to operate clusters.",
                    "clientRole": true
                }
            ]
        }
    },
    "users": [
        {
            "username": "test-user",
            "enabled": true,
            "email": "test@user.org",
            "firstName": "Test",
            "lastName": "Reader",
            "credentials": [
                {
                    "type": "password",
                    "value": "test"
                }
            ],
            "clientRoles": {
                "did:key:zDnaeud7zQitUYp1MxZyRGSuweXfDXGdu6hbYpKvrM6Ws1Eva": [
                    "OPERATOR"
                ],
                "account": [
                    "view-profile",
                    "manage-account"
                ]
            },
            "groups": []
        }
    ],
    "groups": [],
    "components": {
        "org.keycloak.keys.KeyProvider": [
            {
                "id": "a4589e8f-7f82-4345-b2ea-ccc9d4366600",
                "name": "citcomai-key",
                "providerId": "java-keystore",
                "subComponents": {},
                "config": {
                    "keystore": [
                        "/did-material/cert.pfx"
                    ],
                    "keystorePassword": [
                        "{{STORE-PASS}}"
                    ],
                    "keyAlias": [
                        "didPrivateKey"
                    ],
                    "keyPassword": [
                        "{{STORE-PASS}}"
                    ],
                    "kid": [
                        "{{ISSUER-DID}}"
                    ],
                    "active": [
                        "true"
                    ],
                    "priority": [
                        "0"
                    ],
                    "enabled": [
                        "true"
                    ],
                    "algorithm": [
                        "ES256"
                    ]
                }
            }
        ],
        "org.keycloak.protocol.oid4vc.issuance.signing.VerifiableCredentialsSigningService": [
            {
                "id": "jwt-signing",
                "name": "jwt-signing-service",
                "providerId": "jwt_vc",
                "subComponents": {},
                "config": {
                    "keyId": [
                        "{{ISSUER-DID}}"
                    ],
                    "algorithmType": [
                        "ES256"
                    ],
                    "issuerDid": [
                        "{{ISSUER-DID}}"
                    ],
                    "tokenType": [
                        "JWT"
                    ]
                }
            }
        ]
    }
}